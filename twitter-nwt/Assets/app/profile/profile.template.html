<div class="container" style="padding-top: 30px;">
    <button class="btn btn-default pull-right" (click)="logout()">Logout</button>
    <a class="btn btn-primary pull-right" style="margin-right: 10px;" routerLink="/dashboard/tweets-list" routerLinkActive="active">Back to tweets</a>

    <h1 class="page-header">Edit profile</h1>

    <div class="row">
        <div class="col-md-4 col-sm-6 col-xs-12">
            <div class="row text-center">
                <img src="./../../../../Content/Images/{{user.id}}-profile.jpg" class="avatar img-circle img-thumbnail" alt="avatar">
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-4 text-center">
                    <h2><strong>{{user.followedBy.length}}</strong></h2>
                    <p style="color: #8899a6"><small>Followers</small></p>
                </div>
                <div class="col-xs-12 col-sm-4 text-center">
                    <h2><strong>{{user.followingUsers.length}}</strong></h2>
                    <p style="color: #8899a6"><small>Following</small></p>
                </div>
                <div class="col-xs-12 col-sm-4 text-center">
                    <h2><strong>{{user.myTweets.length}}</strong></h2>
                    <p style="color: #8899a6"><small>Tweets</small></p>
                </div>
            </div>
        </div>

        <div class="col-md-8 col-sm-6 col-xs-12 personal-info">
            <div class="alert alert-info">
                Here you can see and edit your profile information.
            </div>

            <h3>Personal info</h3>

            <form class="form-horizontal" role="form" (ngSubmit)="updateUser()">
                <div class="form-group">
                    <label class="col-lg-3 control-label" for="name">Name:</label>
                    <div class="col-lg-8">
                        <input type="text" class="form-control" id="name" required [(ngModel)]="user.name" name="name" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-lg-3 control-label" for="lastname">Lastname:</label>
                    <div class="col-lg-8">
                        <input type="text" class="form-control" id="lastname" required [(ngModel)]="user.lastname" name="lastname" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-lg-3 control-label" for="email">Email:</label>
                    <div class="col-lg-8">
                        <input type="email" class="form-control" id="email" required [(ngModel)]="user.email" name="email" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label" for="username">Username:</label>
                    <div class="col-md-8">
                        <input type="text" class="form-control" id="username" required [(ngModel)]="user.username" name="username" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label" for="password">Password:</label>
                    <div class="col-md-8">
                        <input type="password" class="form-control" id="password" required [(ngModel)]="user.password" name="password" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-3 control-label" for="rpassword">Confirm password:</label>
                    <div class="col-md-8">
                        <input type="password" class="form-control" id="rpassword" required [(ngModel)]="password" name="rpassword" placeholder="Re-enter password to save changes" />
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" [disabled]="user.password != password">Save Changes</button>
            </form>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-xs-12">
            <h3>Published tweets:</h3>
        </div>
        <div class="col-xs-12" *ngFor="let tweet of user.myTweets">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title">Published on {{tweet.timeWhenTweeted | date:short}}</h3>
                </div>
                <div class="panel-body">
                    {{tweet.text}}
                </div>
            </div>
        </div>
    </div>
</div>